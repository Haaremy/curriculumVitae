(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{8271:function(e,s,t){Promise.resolve().then(t.bind(t,4314))},4314:function(e,s,t){"use strict";t.d(s,{default:function(){return r}});var a=t(7437),l=t(2265);function r(e){let{filenames:s}=e,[t,r]=(0,l.useState)(""),[n,o]=(0,l.useState)([]),[i,c]=(0,l.useState)({}),[d,h]=(0,l.useState)(!1),[x,u]=(0,l.useState)(null),[g,m]=(0,l.useState)(!1),[p,f]=(0,l.useState)(!1),[b,w]=(0,l.useState)(null),[j,v]=(0,l.useState)([]),[N,k]=(0,l.useState)(null),[y,S]=(0,l.useState)(!1),[C,L]=(0,l.useState)(!1);(0,l.useEffect)(()=>{o(s.filter(e=>e.toLowerCase().includes(t.toLowerCase())))},[t,s]),(0,l.useEffect)(()=>{if(0===n.length)return;let e=async e=>{h(!0),u(null);try{let s=e.split("+").slice(1).join("+"),t="/jsons/series/".concat(s,".json");if((await fetch(t,{method:"HEAD"})).ok){let s=await fetch(t),a=await s.json();c(s=>({...s,[e]:a}))}else{let t=await fetch("https://api.themoviedb.org/3/tv/".concat(encodeURIComponent(s),"?language=de-DE&api_key=2e42a5a77d2dc620a46cd7276da47403")),a=await t.json();if(a){let t=a.genres?a.genres.map(e=>e.name).join(" - "):"Unknown",l={title:a.name,overview:a.overview,poster:a.poster_path,release:a.release_date,genre:t};c(s=>({...s,[e]:l})),await fetch("/api/saveSeriesData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,movieData:l})})}}}catch(e){u("Error fetching or saving series data."),console.error(e)}finally{h(!1)}};n.forEach(s=>{e(s)})},[n]);let E=async e=>{w(e),L(!0);try{let s=await fetch("/api/getSeasonEpisodes?series=".concat(encodeURIComponent(e))),t=await s.json();v(t.fullSeries||[])}catch(e){u("Error fetching seasons and episodes.")}},M=e=>{k(e),S(!0)};return(0,a.jsxs)("main",{className:"flex min-h-screen flex-col p-8 pt-20 bg-pink-50 dark:bg-gray-900",children:[(0,a.jsx)("aside",{className:"fixed top-0 left-0 bg-white dark:bg-gray-900 border-r border-gray-300 dark:border-gray-700 shadow-md h-full ".concat(g?"w-64":"w-16 "," transition-all duration-300 ease-in-out z-30"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 ".concat(g?"text-transparent":"text-gray-500"," transition-colors duration-300"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),(0,a.jsx)("div",{className:"flex-col items-center ".concat(g?"flex":"hidden"," transition-all duration-300"),children:(0,a.jsxs)("ul",{className:"space-y-4 mt-4 w-full px-2 ",children:[(0,a.jsx)("h1",{children:"Genre"}),(0,a.jsx)("li",{children:"Input: Genre 1"})]})})]})}),(0,a.jsx)("div",{className:" ".concat(g?"pl-64":"pl-16"," flex-1 w-full transition-all duration-300"),children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Suche nach Videotitel...",value:t,onChange:e=>r(e.target.value),className:"mb-4 p-2 w-full border border-gray-300 rounded"}),0===n.length?(0,a.jsx)("p",{className:"text-gray-500",children:"Keine Serie gefunden."}):(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[d&&(0,a.jsx)("p",{className:"text-blue-500 text-center col-span-full",children:"Loading..."}),x&&(0,a.jsx)("p",{className:"text-red-500 text-center col-span-full",children:x}),n.map(e=>i[e]&&(0,a.jsxs)("div",{className:"relative flex flex-col bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden group cursor-pointer",onClick:()=>E(e),children:[(0,a.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(i[e].poster),alt:i[e].title,className:"w-full h-64 object-cover"}),(0,a.jsxs)("div",{className:"absolute inset-x-0 bottom-0 p-4 bg-gradient-to-t from-black to-transparent text-white",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:i[e].title}),(0,a.jsx)("p",{className:"text-sm",children:i[e].release}),(0,a.jsx)("p",{className:"text-sm",children:i[e].genre})]}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-60 text-white p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)("p",{className:"text-sm",children:i[e].overview})})]},e))]})]})}),C&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,a.jsxs)("div",{className:"relative flex bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg w-full max-w-4xl h-full",children:[(0,a.jsx)("aside",{className:"bg-white dark:bg-gray-900 border-r border-gray-300 dark:border-gray-700 shadow-md h-full ".concat(p?"w-64":"w-16"," transition-all duration-300 ease-in-out"),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 ".concat(p?"text-transparent":"text-gray-500"," transition-colors duration-300 "),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),(0,a.jsx)("div",{className:"flex-col items-center ".concat(p?"flex":"hidden"," transition-all duration-300"),children:j.length>0?j.map(e=>(0,a.jsx)("a",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg shadow-md mb-4",children:e.season},e.season)):(0,a.jsx)("p",{className:"text-gray-500",children:"No seasons available."})})]})}),(0,a.jsxs)("div",{className:"flex-1 ml-4",children:[(0,a.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(i[b||235598].poster),className:"w-full h-64 object-cover"}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:null==b?void 0:b.split("+")[0]}),j.length>0?j.map(e=>(0,a.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg shadow-md mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.season}),(0,a.jsx)("ul",{className:"pl-4 mt-2",children:e.episodes.length>0?e.episodes.map((s,t)=>(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"#",className:"block py-2 px-4 rounded-lg bg-blue-600 text-white dark:bg-blue-400 transition-colors duration-300 hover:bg-blue-700 dark:hover:bg-blue-300",onClick:()=>M("series/".concat(b,"/").concat(e.season,"/").concat(s)),children:["Folge ",s.slice(0,-4)]})},t)):(0,a.jsx)("p",{className:"text-gray-500",children:"No episodes available."})})]},e.season)):(0,a.jsx)("p",{className:"text-gray-500",children:"No seasons available."})]}),(0,a.jsx)("button",{onClick:()=>L(!1),className:"absolute top-2 right-2 bg-white text-black p-2 rounded-full hover:bg-gray-200",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),N&&(0,a.jsx)("div",{className:"".concat(y?"block":"hidden"," fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"),children:(0,a.jsxs)("div",{className:"relative max-w-full max-h-full",children:[(0,a.jsx)("video",{controls:!0,src:N,className:"w-full max-w-4xl max-h-[80vh] mx-auto",onEnded:()=>S(!1)}),(0,a.jsx)("button",{onClick:()=>S(!1),className:"absolute top-2 right-2 bg-white text-black p-2 rounded-full hover:bg-gray-200",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8271)}),_N_E=e.O()}]);